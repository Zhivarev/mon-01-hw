# Домашнее задание к занятию 13 «`Введение в мониторинг`» - `Живарев Игорь`

## Обязательные задания

1. Вас пригласили настроить мониторинг на проект. На онбординге вам рассказали, что проект представляет из себя платформу для вычислений с выдачей текстовых отчётов, которые сохраняются на диск. 
Взаимодействие с платформой осуществляется по протоколу http. Также вам отметили, что вычисления загружают ЦПУ. Какой минимальный набор метрик вы выведите в мониторинг и почему?

2. Менеджер продукта, посмотрев на ваши метрики, сказал, что ему непонятно, что такое RAM/inodes/CPUla. Также он сказал, что хочет понимать, насколько мы выполняем свои обязанности перед клиентами и какое качество обслуживания. Что вы можете ему предложить?

3. Вашей DevOps-команде в этом году не выделили финансирование на построение системы сбора логов. Разработчики, в свою очередь, хотят видеть все ошибки, которые выдают их приложения. Какое решение вы можете предпринять в этой ситуации, чтобы разработчики получали ошибки приложения?

3. Вы, как опытный SRE, сделали мониторинг, куда вывели отображения выполнения SLA = 99% по http-кодам ответов. 
Этот параметр вычисляется по формуле: summ_2xx_requests/summ_all_requests. Он не поднимается выше 70%, но при этом в вашей системе нет кодов ответа 5xx и 4xx. Где у вас ошибка?
---


## Ответ


1. Метрики CPU, если будет высокая нагрузка на CPU, медленнее будут выполняются вычисления.
Load Average - средние значения загрузки процессора, выводится за 1, 5, и 15 минут. Даст представление о величинах загрузки процессора. Далее можно будет отслеживать, какие процессы нагружают процессор сервера.
Метрики дисковой системы, наблюдать за производительностью (iops) и контролировать доступное количество inodes.
Состояние сетевых интерфейсов - отображение состояния сетевых интерфейсов; отображение скорости работы сетевых интерфейсов; количество сетевого трафика, проходящего через сетевой интерфейс; количество "отброшенных" пакетов. Эти данные помогут понять, справляются ли с работой сетевые контроллеры сервера, или их нужно заменить на более производительные либо выполнить какие-либо настройки программного обеспечения, взаимодействующего с сетевыми контроллерами.


2. Можно внедрить в компании SLI (Service Level Indicator). SLI представляет собой измерение производительности, качества работы или надежности услуги в информационной технологии. С помощью SLI могут быть определены конкретные показатели, такие как время ответа, доступность системы, пропускная способность и другие индикаторы, позволяющие оценить уровень предоставляемой услуги.


3. Использовать такие бесплатные системы сбора логов, как Clickhouse + Vector + LightHouse или Elasticsearch + Logstash + Kibana. Далее, можно сделать выведение алертов в необходимые каналы


4. Корректная формула будет такая: (summ_2xx_requests + summ_3xx_requests)/(summ_all_requests)




---

